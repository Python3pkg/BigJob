<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
            <title>BigJob: A Pilot-Based Job and Data Management System</title>
            <!-- SAGA, BigJob, Pilot -->
            
            <meta name="viewport"      content="width=device-width, initial-scale=1.0">
                <meta name="description"   content="">
                    <meta name="title"         content="BigJob: A Pilot-Based Job and Data Management System">
                        <meta name="keywords"      content="SAGA,SAGA Python,SAGA-Python,GFD-90,OGF,Grid Computing,Cloud Computing,Python,API,Distributed Computing,Simple API for Grid Applications,PBS,SGE,XSEDE,FutureGrid,RADICAL,Rutgers,Distributed Applications,Pilot-Job,HPC,BigJob,Pilot,cluster" />
                        <meta name="revisit-after" content="1 month" />
                        <meta name="author"        content="Melissa Romanus">
                            
                            <!-- Le styles -->
                            <link rel="stylesheet" type="text/css" href="css/bootstrap.css"/>
                            <link rel="stylesheet" type="text/css" href="css/bootstrap-responsive.css"/>
                            <link rel="stylesheet" type="text/css" href="css/docs.css"/>
                            <link rel="stylesheet" type="text/css" href="css/prettify.css"/>
                            
                            <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
                            <!--[if lt IE 9]>
                             <script src="js/html5shiv.js"></script>
                             <![endif]-->
                            
                            <!-- Le fav and touch icons -->
                            <link rel="apple-touch-icon-precomposed" sizes="144x144" href="ico/apple-touch-icon-144-precomposed.png">
                                <link rel="apple-touch-icon-precomposed" sizes="114x114" href="ico/apple-touch-icon-114-precomposed.png">
                                    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="ico/apple-touch-icon-72-precomposed.png">
                                        <link rel="apple-touch-icon-precomposed" href="ico/apple-touch-icon-57-precomposed.png">
                                            <link rel="shortcut icon" href="ico/favicon.png">
                                                
                                                </head>
    
    <body data-spy="scroll" data-target=".bs-docs-sidebar" onload="prettyPrint()" bgcolor="white">
        
        <!-- Navbar
         ================================================== -->
        <div class="navbar navbar-inverse navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="brand" href="./index.html">BigJob</a>
                    <div class="nav-collapse collapse">
                        <ul class="nav">
                            <li class="active">
                                <a class="smoothScroll" href="./index.html">Home</a>
                            </li>
                            <li class="">
                                <a class="smoothScroll" href="#getstarted">Get Started</a>
                            </li>
                            <li class="">
                                <a class="smoothScroll" href="#whypilots">Why Pilots?</a>
                            </li>
                            <li class="">
                                <a class="smoothScroll" href="#usagemodes">Usage Modes</a>
                            </li>
                            <li class="">
                                <a href="./sphinxdoc/index.html">User Manual</a>
                            </li>
                            <li class="">
                                <a href="./apidoc/index.html">API Documentation</a>
                            </li>
                            <li class="">
                                <a href="https://github.com/saga-project/BigJob/issues">Issue Tracker</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="jumbotron masthead">
            <div class="container">
                <h1>BigJob</h1>
                <p>A Pilot-based Job and Data Management System</p>
                <p>
                <a href="#getstarted" class="btn btn-primary btn-large smoothScroll" >Get Started</a>
                </p>
                <ul class="masthead-links">
                    <li>
                        <a href="https://github.com/saga-project/BigJob">GitHub Project</a>
                    </li>
                    <li>
                        <a href="./sphinxdoc/index.html" >Documentation</a>
                    </li>
                    <!--li>
                     <a href="./extend.html" >Extend</a>
                     </li-->
                    <li>
                        Version 0.4.132
                    </li>
                </ul>
            </div>
        </div>
        
        <div class="bs-docs-social">
            <div class="container">
                <ul class="bs-docs-social-buttons">
                    <li>
                        <iframe class="github-btn" src="http://ghbtns.com/github-btn.html?user=saga-project&repo=BigJob&type=watch&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="100px" height="20px"></iframe>
                    </li>
                    <li>
                        <iframe class="github-btn" src="http://ghbtns.com/github-btn.html?user=saga-project&repo=BigJob&type=fork&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="102px" height="20px"></iframe>
                    </li>
                    <li class="tweet-btn">
                        <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://saga-project.github.com/BigJob" data-count="horizontal" data-related="mdo:SAGA Python">Tweet</a>
                    </li>
                </ul>
            </div>
        </div>
        
        <div class="container">
            
            <div class="marketing">
                
                <!--h1>Introducing Bootstrap.</h1>
                 <p class="marketing-byline">Need reasons to love Bootstrap? Look no further.</p-->
                
                <div class="row-fluid">
                    <div class="span12">
                        <!--img class="marketing-img" src="img/bs-docs-twitter-github.png"-->
                        <br />
                        <br />
                        <h2>About</h2>
                        
                        <p class="marketing-byline">It's a BigJob to Make Job and Data Management Simple.</p>
                        
                        <p>
                        BigJob is a flexible Pilot framework that takes the headache out of job and data management
                        for clusters, grids, and clouds. BigJob is written in the Python programming language,
                        and as such, is easily deployable into user space. It allows user-level control of Pilots
                        and supports a wide range of application types. It is built on top of
                        <a href="http://saga-project.github.io/saga-python/">The Simple API for Grid Applications</a>,
                        a high-level, easy-to-use API for accessing distributed resources, meaning BigJob works
                        on a variety of backends such as PBS, SGE, Amazon EC2, etc.
                        </p>
                    </div>
                </div>
                
                <hr class="soften">
                
                <div class="row-fluid">
                    <div class="span6" id="whatpilots">
                    <h2>What are Pilot-Jobs?</h2>
                    <p>
                    Pilot-Jobs support the decoupling of workload submission from resource assignment. This
                    results in a flexible execution model, which in turn enables the distributed scale-out of
                    applications on multiple and possibly heterogeneous resources. Pilot-Jobs support the use of
                    container jobs with sophisticated workflow management to coordinate the launch and interaction
                    of actual computational tasks within the container. It allows the execution of jobs without
                    the necessity to queue each individual job.
                    </p>
                    
                    <p>
                    BigJob's main focus is to be a flexible and extensible Pilot-based system for job submission
                    and data management. Unlike many other Pilot-Job systems, BigJob natively supports MPI jobs
                    and, because of its integration with saga-python, works on a variety of backend systems.
                    </p>
                    </div>
                    
                    <div class="span6" id="usagemodes">
                        <h2>What is BigJob used for?</h2>
                        
                        <p class="marketing-byline">Production-grade science and engineering</p>
                        
                        <p>BigJob is used by scientists and engineers to solve real problems, such
                        as protein-folding, traditional molecular dynamics umbrella sampling, 
			replica exchange, and other data/compute intensive workloads.</p>
                        
                        <ul class="bigjob-usage">
                            <li>Parameter Sweeps</li>
                            <li>Many instances of the same task (ensemble applications)</li>
                            <li>Chained tasks</li>
                            <li>Loosely-coupled, distinct tasks</li>
                            <li>Tasks with Data and/or Compute Dependencies</li>
                        </ul>
                        
                        </p>
                    </div>
                    </div>
                <hr class="soften">
                
                <div class="row-fluid">
                    <div class="span12" id="whypilots">
                        <h2>Why Pilot-Jobs?</h2>
                        <p class="marketing-byline">Simple Setup, Thousands of Jobs, Less Worry</p>
                        
                        <p>Production-grade distributed cyberinfrastructure almost always has a local resource manager installed, such as a batch queuing system. A distributed application often requires many jobs to produce useful output data; these jobs often have the same executable. A traditional way of submitting these jobs would be to submit an individual job for each executable. These jobs (often hundreds) sit in the batch queuing system and may not become active at the same time. Load and scheduling variations may add unnecessary hours to a job's total time to completion due to inefficiencies in scheduling many individual jobs.</p> 

                        <p>A Pilot-Job provides an alternative approach. It can be thought of as a container job for many sub-jobs. A Pilot-Job acquires the resources necessary to execute the sub-jobs (thus, it asks for all of the resources required to run the sub-jobs, rather than just one sub-job). If a system has a batch queue, the Pilot-Job is submitted to this queue. Once it becomes active, it can run the sub-jobs directly, instead of having to wait for each sub-job to queue. This eliminates the need to submit a different job for every executable and significantly reduces the time-to-completion.</p>
                        <!--p>TODO: User showcase</p>
                         <p><a class="btn" href="#">Read more &raquo;</a></p-->
                        
                    </div>
                </div>
                
                <hr class="soften">
                
                <h1 id="getstarted">Get Started</h1>
                
                <p class="marketing-byline">Run your first BigJob program in less than 5 minutes.</p>
                
                
                <h3>Installation</h3>
                <p> The easiest way to install BigJob under your user account is
                via <a href="https://pypi.python.org/pypi/virtualenv">virtualenv</a>
                and easy_install or pip. 
                
                
                <pre class="prettyprint languague-bash">
$ virtualenv $HOME/.bigjob/python
$ source $HOME/.bigjob/python/bin/activate
$ easy_install bigjob</pre>

		<p>BigJob requires a working directory in which to place the output files. 
		We will call this directory <code>agent</code>. This directory should reside
		in whichever location you wish your BigJob script to work; for the purposes of 
		this tutorial, we will assume that your BigJob working
		directory is in <code>$HOME</code>.</p>

                <pre class="prettyprint languague-bash">
$ cd $HOME
$ mkdir agent
		</pre>
                
                <p>BigJob uses a redis server for coordination and task management. If you do not
                have access to a redis server, easy installation instructions are provided in
                the <a href="http://saga-project.github.io/BigJob/sphinxdoc/install/redis.html">
                    manual</a></p>
                
                <p>
                More detailed installation instructions, including how to setup SSH keys,
                can be found in the
                <a href="sphinxdoc/install/install.html">manual</a>.</p>
                
                <h3>Example Script</h3>
                
                <p>This example runs 4 jobs on your local machine using "fork". Each of these jobs
                uses only one core to execute a simple /bin/echo task, showing how arguments
                and environment variables can be passed with your script. The example assumes you have
                a redis server running on your localhost. If your redis server is located remotely,
                simple change localhost to your remote hostname.</p>
                
                <p>
                In order to use
                BigJob for remote job submission, configure your SSH-keys to allow password-less login,
                and change the <code>service_url</code> parameter on <b>line 14</b> to a different adaptor scheme.
                For example, you can
                use <code>slurm[+ssh]://...</code> to access a SLURM cluster, <code>sge[+ssh]://...</code>
                to access an SGE cluster, <code>pbs[+ssh]://</code> to access a Condor(-G) gateway
                or just <code>ssh://...</code> to access a remote host (e.g., a cloud VM) via SSH.
                </p>
                
                More information about the BigJob job API can be found in the
                respective <a href="sphinxdoc/install/install.html">manual section</a>.</p>
                
                <p>A full list of available adaptors can be found
                in the <a href="sphinxdoc/intro/index.html#supported-adaptors">manual</a>.</p>
                
                <pre class="prettyprint languague-python">
import os
import time
import sys
from pilot import PilotComputeService, ComputeDataService, State

### This is the number of jobs you want to run
NUMBER_JOBS=4
COORDINATION_URL = "redis://localhost:6379"

if __name__ == "__main__":

    pilot_compute_service = PilotComputeService(COORDINATION_URL)

    pilot_compute_description = { "service_url": "fork://localhost",
                                  "number_of_processes": 1,
                                  "working_directory": os.getenv("HOME")+"/agent",
                                  "walltime":10
                                }

    pilot_compute_service.create_pilot(pilot_compute_description=pilot_compute_description)

    compute_data_service = ComputeDataService()
    compute_data_service.add_pilot_compute_service(pilot_compute_service)

    print ("Finished Pilot-Job setup. Submitting compute units")

    # submit compute units
    for i in range(NUMBER_JOBS):
        compute_unit_description = {
                "executable": "/bin/echo",
                "arguments": ["Hello","$ENV1","$ENV2"],
                "environment": ['ENV1=env_arg1','ENV2=env_arg2'],
                "number_of_processes": 1,
                "spmd_variation":"single",
                "output": "stdout.txt",
                "error": "stderr.txt",
                }
        compute_data_service.submit_compute_unit(compute_unit_description)

    print ("Waiting for compute units to complete")
    compute_data_service.wait()

    print ("Terminate Pilot Jobs")
    compute_data_service.cancel()
    pilot_compute_service.cancel()
                </pre>
                
                <p>Paste the above script into a file and run it. Your command-line output
                should look similar to this:</p>
                
                <pre class="prettyprint languague-bash">$ python ./bigjob.py<span class="nocode">
                    Finished Pilot-Job setup. Submitting compute units
                    Waiting for compute units to complete
                    Terminate Pilot Jobs</pre>
                
                <p>Want to learn more? Check out our application-writing guide in the <a
                    href="sphinxdoc/usage/appwriting.html">manual</a>! Or jump right in
                and try our <a href="http://saga-project.github.io/BigJob/sphinxdoc/tutorial/index.html">tutorial</a>!</p>
                
                <!--p class="marketing-byline">For even more sites built with Bootstrap, <a href="http://builtwithbootstrap.tumblr.com/" target="_blank">visit the unofficial Tumblr</a> or <a href="./getting-started.html#examples">browse the examples</a>.</p>
                 <div class="row-fluid">
                 <ul class="thumbnails example-sites">
                 <li class="span3">
                 <a class="thumbnail" href="http://soundready.fm/" target="_blank">
                 <img src="img/example-sites/soundready.png" alt="SoundReady.fm">
                 </a>
                 </li>
                 <li class="span3">
                 <a class="thumbnail" href="http://kippt.com/" target="_blank">
                 <img src="img/example-sites/kippt.png" alt="Kippt">
                 </a>
                 </li>
                 <li class="span3">
                 <a class="thumbnail" href="http://www.gathercontent.com/" target="_blank">
                 <img src="img/example-sites/gathercontent.png" alt="Gather Content">
                 </a>
                 </li>
                 <li class="span3">
                 <a class="thumbnail" href="http://www.jshint.com/" target="_blank">
                 <img src="img/example-sites/jshint.png" alt="JS Hint">
                 </a>
                 </li>
                 </ul>
                 </div>
                 
                 </div>
                 
                 </div-->
                
                
                
                <!-- Footer
                 ================================================== -->
                <footer class="footer">
                    <div class="container">
                        <p>Copyright &copy; 2013 The SAGA Project</p>
                        <p><a href="http://radical.rutgers.edu">RADICAL Research</a> at 
                        <a href="http://nsfcac.rutgers.edu">The Cloud and Autonomic Computing 
                            Center, Rutgers University </a>.</p>
                        
                        <p>Code licensed under <a href="http://opensource.org/licenses/MIT" target="_blank">MIT License</a>, documentation under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.</p>
                        <ul class="footer-links">
                            <li><a href="https://pypi.python.org/pypi/BigJob/">PyPi</a></li>
                            <li class="muted">&middot;</li>
                            <li><a href="http://repex2.tacc.utexas.edu:8080">Jenkins</a></li>
                            <li class="muted">&middot;</li>
                            <li><a href="https://github.com/saga-project/BigJob/wiki">Wiki</a></li>
                            <li class="muted">&middot;</li>
                            <li><a href="https://github.com/saga-project/BigJob/issues?state=open">Issues</a></li>
                            <li class="muted">&middot;</li>
                            <li><a href="https://github.com/saga-project/BigJob/blob/master/CHANGES.md">Changelog</a></li>
                        </ul>
                    </div>
                </footer>
                
                
                <!-- Le javascript
                 ================================================== -->
                <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
                <script type="text/javascript" src="js/jquery.js"></script>
                <script type="text/javascript" src="js/bootstrap.js"></script>
                <script type="text/javascript" src="js/smoothscroll.js"></script>
                <script type="text/javascript" src="js/application.js"></script>
                <script type="text/javascript" src="js/prettify.js"></script>
                
                
                <!-- Le google analytics
                 ================================================== -->
                <script type="text/javascript">
                    
                    var _gaq = _gaq || [];
                    _gaq.push(['_setAccount', 'UA-39225565-1']);
                    _gaq.push(['_trackPageview']);
                    
                    (function() {
                     var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                     })();
                    
                    </script>
                
                
                <!-- Get the current saga-python version number
                 ================================================== -->
                <script type="text/javascript">
                    
                    function getSAGAPythonVersion() {
                        function handleFile(data) {
                            jQuery('#filecontents').html(data);
                        }
                        
                        // Issue a request to load test_file as text (don't eval it, jQuery!).
                        jQuery.get('https://raw.github.com/saga-project/saga-python/master/saga/VERSION',
                                   handleFile,
                                   'text');
                        
                        document.write('<div id="filecontents"></div>');
                    }
                    
                    </script>
                
                </body>
</html>
