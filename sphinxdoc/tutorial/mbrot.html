
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    

    <title>3. Mandelbrot using BigJob &mdash; BigJob 1.0 User Manual</title>

<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;"/>


    
    <link rel="stylesheet" href="../_static/rtd.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/searchtools.js"></script>
    <link rel="top" title="BigJob 1.0 User Manual" href="../index.html" />
    <link rel="up" title="6. Tutorial" href="index.html" />
    <link rel="next" title="4. XSEDE Simple Ensemble Example" href="exsede.html" />
    <link rel="prev" title="2. Run BigJob Locally" href="part2.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="exsede.html" title="4. XSEDE Simple Ensemble Example"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="part2.html" title="2. Run BigJob Locally"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">BigJob 1.0 User Manual</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">6. Tutorial</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="mandelbrot-using-bigjob">
<h1>3. Mandelbrot using BigJob<a class="headerlink" href="#mandelbrot-using-bigjob" title="Permalink to this headline">¶</a></h1>
<p>In this example, we split up the calculation of a <a class="reference external" href="http://en.wikipedia.org/wiki/Mandelbrot_set">Mandelbrot set</a> into several <cite>tiles</cite>.</p>
<p>Rather than submit a single job for each tile, we want to submit one BigJob and then execute each individual tile job in a distributed fashion. This is why BigJob is useful. We reserve the resources we need for all of the jobs, but submit just one job that requests all of these resources. Once the job becomes active, the compute units are executed in a distributed fashion. The tiles are then retrieved using features included in BigJob such as the SAGA File API, and the final image is stitched together from the individual tiles.</p>
<img alt="../_images/mandelbrot.png" src="../_images/mandelbrot.png" />
<div class="section" id="hands-on-distributed-mandelbrot-fractals">
<h2>3.1. Hands-On: Distributed Mandelbrot Fractals<a class="headerlink" href="#hands-on-distributed-mandelbrot-fractals" title="Permalink to this headline">¶</a></h2>
<p>In order for this example to work, we need to install an additional Python module, the <a class="reference external" href="http://www.pythonware.com/products/pil/">Python Image Library (PIL)</a>. This is done via <tt class="docutils literal"><span class="pre">pip</span></tt>:</p>
<div class="highlight-python"><pre>pip install PIL</pre>
</div>
<p>Next, we need to download the <a class="reference external" href="https://github.com/saga-project/bliss/blob/master/examples/advanced/mandelbrot/mandelbrot.py">Mandelbrot fractal generator</a> itself. It is really just a very simple python script that, if invoked on the command line, outputs a full or part of a Mandelbrot fractal as a PNG image. Download the script into your <tt class="docutils literal"><span class="pre">$HOME</span></tt> directory:</p>
<div class="highlight-python"><pre>curl --insecure -Os https://raw.github.com/saga-project/bliss/master/examples/advanced/mandelbrot/mandelbrot.py</pre>
</div>
<p>You can give <tt class="docutils literal"><span class="pre">mandelbrot.py</span></tt> a test-drive locally by calculating a single-tiled 1024x1024 Mandelbrot fractal:</p>
<div class="highlight-python"><pre>python mandelbrot.py 1024 1024 0 1024 0 1024 frac.gif</pre>
</div>
<p>Cut and paste code below into <tt class="docutils literal"><span class="pre">bj_mandelbrot.py</span></tt>.</p>
<div class="section" id="execute-the-script">
<h3>3.1.1. Execute the Script<a class="headerlink" href="#execute-the-script" title="Permalink to this headline">¶</a></h3>
<p>Execute your script by typing <tt class="docutils literal"><span class="pre">python</span> <span class="pre">bj_mandelbrot.py</span></tt></p>
</div>
<div class="section" id="compare-to-saga-python">
<h3>3.1.2. Compare to saga-python<a class="headerlink" href="#compare-to-saga-python" title="Permalink to this headline">¶</a></h3>
<p>Compare the execution of bj_mandelbrot.py to its SAGA counterpart <a class="reference external" href="http://saga-project.github.io/saga-python/doc/tutorial/part5.html">saga_mandelbrot.py</a>. Notice that a Pilot-Job is used in the BigJob case to submit many jobs at one time, instead of submitting them serially as in the SAGA example.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">3. Mandelbrot using BigJob</a><ul>
<li><a class="reference internal" href="#hands-on-distributed-mandelbrot-fractals">3.1. Hands-On: Distributed Mandelbrot Fractals</a><ul>
<li><a class="reference internal" href="#execute-the-script">3.1.1. Execute the Script</a></li>
<li><a class="reference internal" href="#compare-to-saga-python">3.1.2. Compare to saga-python</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="part2.html"
                        title="previous chapter">2. Run BigJob Locally</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="exsede.html"
                        title="next chapter">4. XSEDE Simple Ensemble Example</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/tutorial/mbrot.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="exsede.html" title="4. XSEDE Simple Ensemble Example"
             >next</a> |</li>
        <li class="right" >
          <a href="part2.html" title="2. Run BigJob Locally"
             >previous</a> |</li>
        <li><a href="../index.html">BigJob 1.0 User Manual</a> &raquo;</li>
          <li><a href="index.html" >6. Tutorial</a> &raquo;</li> 
      </ul>
    </div>
<div class="footer">
    &copy; Copyright 2013, The SAGA Project.
  Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
  <br />Theme based on <a href="http://readthedocs.org/">Read The Docs</a>

</div>





  </body>
</html>