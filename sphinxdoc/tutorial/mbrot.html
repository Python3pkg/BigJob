


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3. Mandelbrot using BigJob &mdash; BigJob 1.0 User Manual</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'../',
        VERSION:'1.0',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
    <link rel="top" title="BigJob 1.0 User Manual" href="../index.html"/> 

  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="icon icon-home"> BigJob</a>
        <form class="wy-form" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search docs" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">1. Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro/index.html#introduction-to-pilot-jobs">1.1. Introduction to Pilot-Jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/index.html#why-do-you-need-pilot-jobs">1.2. Why do you need Pilot-Jobs?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/index.html#what-makes-bigjob-different">1.3. What makes BigJob different?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/index.html#what-can-i-use-bigjob-for">1.4. What can I use BigJob for?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/index.html#bigjob-overview">1.5. BigJob Overview</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">2. Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install/install.html">2.1. Installing BigJob</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/redis.html">2.2. Setting Up a Redis Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/xsede.html">2.3. XSEDE Specific Tips</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/trouble.html">2.4. Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usage/index.html">3. Working with BigJob</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../usage/appwriting.html">3.1. Writing BigJob Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/pilotdata.html">3.2. Introduction to Pilot-Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/cmdtools.html">3.3. Command-Line Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/logging.html">3.4. Logging and Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/output.html">3.5. Interpreting Output</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../patterns/index.html">4. Common Usage Patterns</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../patterns/simple.html">4.1. Simple Ensemble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../patterns/chained.html">4.2. Chained Ensembles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../patterns/coupled.html">4.3. Coupled Ensembles</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../library/index.html">5. Library Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../library/index.html#compute-and-data-services">5.1. Compute and Data Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../library/index.html#compute-and-data-units">5.2. Compute and Data Units</a></li>
<li class="toctree-l2"><a class="reference internal" href="../library/index.html#state-enumeration">5.3. State Enumeration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html">6. Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="part1.html">1. Introduction and Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="part2.html">2. Simple Ensembles</a></li>
<li class="toctree-l2"><a class="reference internal" href="part3.html">3. Chained Ensembles</a></li>
<li class="toctree-l2"><a class="reference internal" href="part4.html">4. Coupled Ensembles</a></li>
<li class="toctree-l2"><a class="reference internal" href="table.html">5. Machines and Valid Parameters</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="/">BigJob</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <ul class="wy-breadcrumbs">
  <li><a href="../index.html">Docs</a> &raquo;</li>
  <li><a href="">3. Mandelbrot using BigJob</a></li>
  
</ul>
<hr/>

          
  <div class="section" id="mandelbrot-using-bigjob">
<h1>Mandelbrot using BigJob<a class="headerlink" href="#mandelbrot-using-bigjob" title="Permalink to this headline">¶</a></h1>
<p>In this example, we split up the calculation of a <a class="reference external" href="http://en.wikipedia.org/wiki/Mandelbrot_set">Mandelbrot set</a> into several <cite>tiles</cite>.</p>
<p>Rather than submit a single job for each tile, we want to submit one BigJob and then execute each individual tile job in a distributed fashion. This is why BigJob is useful. We reserve the resources we need for all of the jobs, but submit just one job that requests all of these resources. Once the job becomes active, the compute units are executed in a distributed fashion. The tiles are then retrieved using features included in BigJob such as the SAGA File API, and the final image is stitched together from the individual tiles.</p>
<img alt="../_images/mandelbrot.png" src="../_images/mandelbrot.png" />
<div class="section" id="hands-on-distributed-mandelbrot-fractals">
<h2>Hands-On: Distributed Mandelbrot Fractals<a class="headerlink" href="#hands-on-distributed-mandelbrot-fractals" title="Permalink to this headline">¶</a></h2>
<p>In order for this example to work, we need to install an additional Python module, the <a class="reference external" href="http://www.pythonware.com/products/pil/">Python Image Library (PIL)</a>. This is done via <tt class="docutils literal"><span class="pre">pip</span></tt>:</p>
<div class="highlight-python"><pre>pip install PIL</pre>
</div>
<p>Next, we need to download the <a class="reference external" href="https://github.com/saga-project/bliss/blob/master/examples/advanced/mandelbrot/mandelbrot.py">Mandelbrot fractal generator</a> itself. It is really just a very simple python script that, if invoked on the command line, outputs a full or part of a Mandelbrot fractal as a PNG image. Download the script into your <tt class="docutils literal"><span class="pre">$HOME</span></tt> directory:</p>
<div class="highlight-python"><pre>curl --insecure -Os https://raw.github.com/saga-project/bliss/master/examples/advanced/mandelbrot/mandelbrot.py</pre>
</div>
<p>You can give <tt class="docutils literal"><span class="pre">mandelbrot.py</span></tt> a test-drive locally by calculating a single-tiled 1024x1024 Mandelbrot fractal:</p>
<div class="highlight-python"><pre>python mandelbrot.py 1024 1024 0 1024 0 1024 frac.gif</pre>
</div>
<p>Cut and paste code below into <tt class="docutils literal"><span class="pre">bj_mandelbrot.py</span></tt>.</p>
<div class="section" id="execute-the-script">
<h3>Execute the Script<a class="headerlink" href="#execute-the-script" title="Permalink to this headline">¶</a></h3>
<p>Execute your script by typing <tt class="docutils literal"><span class="pre">python</span> <span class="pre">bj_mandelbrot.py</span></tt></p>
</div>
<div class="section" id="compare-to-saga-python">
<h3>Compare to saga-python<a class="headerlink" href="#compare-to-saga-python" title="Permalink to this headline">¶</a></h3>
<p>Compare the execution of bj_mandelbrot.py to its SAGA counterpart <a class="reference external" href="http://saga-project.github.io/saga-python/doc/tutorial/part5.html">saga_mandelbrot.py</a>. Notice that a Pilot-Job is used in the BigJob case to submit many jobs at one time, instead of submitting them serially as in the SAGA example.</p>
</div>
</div>
</div>


          <footer>
  

  <hr/>

  <p>
      &copy; Copyright 2013, The SAGA Project.
  </p>

  <a href="https://www.github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="http://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  

</body>
</html>