
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    

    <title>3.4. Logging and Debugging &mdash; BigJob 1.0 documentation</title>

<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;"/>


    
    <link rel="stylesheet" href="../_static/rtd.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/searchtools.js"></script>
    <link rel="top" title="BigJob 1.0 documentation" href="../index.html" />
    <link rel="up" title="3. Working with BigJob" href="index.html" />
    <link rel="next" title="3.5. Interpreting Output" href="output.html" />
    <link rel="prev" title="3.3. Command-Line Tools" href="cmdtools.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="output.html" title="3.5. Interpreting Output"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="cmdtools.html" title="3.3. Command-Line Tools"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">BigJob 1.0 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">3. Working with BigJob</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="logging-and-debugging">
<h1>3.4. Logging and Debugging<a class="headerlink" href="#logging-and-debugging" title="Permalink to this headline">¶</a></h1>
<p>In a distributed environment unified error logging and reporting is a crucial
capability for debugging and monitoring. BigJob has a configurable logging system
that  captures debug, info, warning and error messages across its runtime and SAGA&#8217;s middleware adaptors. The logging system can be controlled in two different
ways: via <em class="xref std std-ref">env_vars</em> variables, which should be sufficient in most
scenarios, and via the <tt class="code docutils literal"><span class="pre">bigjob.conf</span></tt> file.</p>
<div class="section" id="environment-variables">
<h2>3.4.1. Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h2>
<p>Several environment variables can be used to control SAGA and BigJob&#8217;s logging behavior from  the command line. Obviously, this can come in handy when debugging a problem
with an existing SAGA/BigJob application. Environment variables are set in the
executing shell and evaluated by BigJob at program startup.</p>
<dl class="envvar">
<dt id="envvar-BIGJOB_VERBOSE">
<tt class="descname">BIGJOB_VERBOSE</tt><a class="headerlink" href="#envvar-BIGJOB_VERBOSE" title="Permalink to this definition">¶</a></dt>
<dd><p>Controls the log level. This controls the amount of output generated by the
logging system. <tt class="docutils literal"><span class="pre">BIGJOB_VERBOSE</span></tt> expects either a numeric (0-4) value or a
string (case insensitive) representing the log level:</p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="29%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Numeric Value</th>
<th class="head">Log Level</th>
<th class="head">Type of Messages Displayed</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0
(default)</td>
<td><tt class="docutils literal"><span class="pre">CRITICAL</span></tt></td>
<td>Only fatal events that will cause
BigJob to abort.</td>
</tr>
<tr class="row-odd"><td>1</td>
<td><tt class="docutils literal"><span class="pre">ERROR</span></tt></td>
<td>Errors that will not necessarily
cause BigJob to abort.</td>
</tr>
<tr class="row-even"><td>2</td>
<td><tt class="docutils literal"><span class="pre">WARNING</span></tt></td>
<td>Warnings that are generated by
BigJob</td>
</tr>
<tr class="row-odd"><td>3</td>
<td><tt class="docutils literal"><span class="pre">INFO</span></tt></td>
<td>Useful runtime information
that is generated by BigJob</td>
</tr>
<tr class="row-even"><td>4</td>
<td><tt class="docutils literal"><span class="pre">DEBUG</span></tt></td>
<td>Debug message added to the code
by the developers. (Lots of output)</td>
</tr>
</tbody>
</table>
<p>For example, if you want to see the debug messages that BigJob generates during
program execution, you would set <span class="target" id="index-0"></span><a class="reference internal" href="#envvar-BIGJOB_VERBOSE"><tt class="xref std std-envvar docutils literal"><span class="pre">BIGJOB_VERBOSE</span></tt></a> to <tt class="docutils literal"><span class="pre">DEBUG</span></tt> before
you run your program:</p>
<div class="highlight-python"><pre>BIGJOB_VERBOSE=DEBUG python mysagaprog.py</pre>
</div>
</dd></dl>

</div>
<div class="section" id="bigjob-configuration-file">
<h2>3.4.2. BigJob Configuration File<a class="headerlink" href="#bigjob-configuration-file" title="Permalink to this headline">¶</a></h2>
<p>BigJob utilizes a configuration file named <tt class="code docutils literal"><span class="pre">bigjob.conf</span></tt> located in the root of the BigJob installation (e.g. :code:<a href="#id1"><span class="problematic" id="id2">`</span></a>$HOME/.bigjob/python/lib/python2.&lt;PYTHON_MINOR_VERSION&gt;/site-packages/BigJob-&lt;BIGJOB_VERSION&gt;-py2.X.egg/):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># logging.DEBUG, logging.INFO, logging.WARNING, logging.ERROR, logging.CRITICAL</span>
<span class="n">logging</span><span class="o">.</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span>
</pre></div>
</div>
<p>The log level can also be set inside the BigJob script that you are running as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">bigjob</span> <span class="kn">import</span> <span class="n">logger</span>
<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">FATAL</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Q: How can I control BigJob log messages from the application it is executing?</strong></p>
<p>BigJob logger can be obtained and handlers can be added to the logger object. For example, with the below set of instructions, the application and BigJob debug messages are written to the <tt class="code docutils literal"><span class="pre">namd_bigwork.log</span></tt> file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s">&#39;bigjob&#39;</span><span class="p">)</span>
<span class="n">fileHandle</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="s">&#39;namd_bigwork.log&#39;</span><span class="p">,</span><span class="n">mode</span><span class="o">=</span><span class="s">&#39;w&#39;</span><span class="p">)</span>
<span class="n">fileHandle</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">fileHandle</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;Logging to namd_bigwork.log at DEBUG level&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">3.4. Logging and Debugging</a><ul>
<li><a class="reference internal" href="#environment-variables">3.4.1. Environment Variables</a></li>
<li><a class="reference internal" href="#bigjob-configuration-file">3.4.2. BigJob Configuration File</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="cmdtools.html"
                        title="previous chapter">3.3. Command-Line Tools</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="output.html"
                        title="next chapter">3.5. Interpreting Output</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/usage/logging.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="output.html" title="3.5. Interpreting Output"
             >next</a> |</li>
        <li class="right" >
          <a href="cmdtools.html" title="3.3. Command-Line Tools"
             >previous</a> |</li>
        <li><a href="../index.html">BigJob 1.0 documentation</a> &raquo;</li>
          <li><a href="index.html" >3. Working with BigJob</a> &raquo;</li> 
      </ul>
    </div>
<div class="footer">
    &copy; Copyright 2012, The BigJob Project.
  Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
  <br />Theme based on <a href="http://readthedocs.org/">Read The Docs</a>

</div>





  </body>
</html>